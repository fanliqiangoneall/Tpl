<extend name="demo2:basein" />
<block name="content">


<script type="text/javascript" src="__TMPL__demo2/js/proDetail.js"></script>
<script type="text/javascript" src="__TMPL__demo2/js/jquery.lightbox-0.5.min.js"></script>
<link rel="stylesheet" type="text/css" href="__TMPL__demo2/css/jquery.lightbox-0.5.css"/>

<style type="text/css">
  .s{overflow: auto }
.mod18 .prev{
	top:0px;background:url({:getindeximgurl($data1[5])}) no-repeat;left:0px;
	}

.mod18 .next{
	top:0px;background:url({:getindeximgurl($data1[6])}) no-repeat;right:0px;
	}  

.mod18 .prev:hover{
	top:0px;background:url({:getindeximgurl($data1[7])}) no-repeat;left:0px;
	}

.mod18 .next:hover{
	top:0px;background:url({:getindeximgurl($data1[8])}) no-repeat;right:0px;
	}  
</style>
    <if condition="$data1[22] neq ''">
        <style>
            .in_proname2{bottom: -200px;transition: 0.6s;-moz-transition: 0.6s;-webkit-transition: 0.6s;}
            .asd2:hover .in_proname2{bottom: 0;transition: 0.6s;-moz-transition: 0.6s;-webkit-transition: 0.6s;}
        </style>
    </if>
    <if condition="$data1[31] neq ''">
        <style>
            .asd2 {
                height: auto;
                border: none;
            }
            .asd2 .img2 {
                border: 1px solid #d2d2d2;
                width: 253px;
                transition: .6s;
                -moz-transition: .6s;
                -webkit-transition: .6s;
            }
            .in_proname2 {
                width: 235px;
                padding: 10px;
                background: transparent;
                text-align: center;
                position: relative;
                bottom: inherit;
                left: inherit;
            }
            .in_proname2 a{
                color: #333;
                overflow: hidden;
                text-overflow: ellipsis;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                word-break: break-all;
            }
        </style>
    </if>
    <style>
        .asd2>div>div:nth-child(1) a {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            word-break: break-all;
        }
        .asd2>div>div:nth-child(2) a {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            word-break: break-all;
        }
        .page_RightTitle_2 {
            background: #f8f8f8;
            padding-top: 30px;
            height: 70px;
            line-height: 70px;
            font-size: 30px;
            color: #{$color};
            padding-left: 20px;
            overflow: hidden;
            font-weight: bold;
        }
    </style>
<script type="text/javascript">
$(function(){
  $('#gx1 > table').addClass('s');
});
</script>
<div id="">
<if condition="$banner neq ''">
<volist name="banner" id="banner" offset="0" length="1">
<div class="in_banner" style="background:url({:getimgurl($banner['ad_pic'])}) center no-repeat"></div>
</volist>
<else/>
<div class="in_banner" style="background:url({:getindeximgurl($data3[0])}) center no-repeat"></div>
</if>
</div>



<div class="r_mbx"><img src="__TMPL__demo2/img/in_home.jpg" border="0" style="vertical-align:middle;" />&nbsp;<a href="{:U('/')}">Home</a>&nbsp;>&nbsp;<a href="{:U('/product')}">Products</a><volist empty="" name="path" id="path">&nbsp;>&nbsp;<a href="{:U('/product_category','','')}/{:getprocatename($path['pcid'])}">{$path['class_name']}</a></volist>&nbsp;>&nbsp;<a href="{:U('/product_category','','')}/{:getprocatename($procate['pcid'])}">{$procate['class_name']}</a></div>

<div style="width: 1190px;margin:0 auto">
    <if condition="$data1[17] neq ''">
        <Include file="./Tpl/demo2/left2.html" />
        <else/>
        <Include file="./Tpl/demo2/left.html" />
    </if>
<div class="page_Main">
    <if condition="$data1[17] neq ''">
        <div class="page_RightTitle_2">{$product['pro_name']}</div>
        <else/>
        <div class="page_RightTitle"><span>{$product['pro_name']}</span></div>
    </if>

    <div id="product_detail">
        <notdefined name="PRODIMGFLAG">
          <div class="left" style=" border:1px solid #d2d2d2">
            <div class="big_pic" id="gallery"><a href="{:getmainimgurl($product['main_img'])}" title="{$product['pro_name']}"><img src="{:getmainimgurl($product['main_img'])}" alt="{:getmainimgurl($product['main_img'])}"  <if condition="$product['proalt'] neq ''">title="{$product['proalt']}"<else/>title="{$product['pro_name']}"</if> class="jqzoom"></a> <a href="#" title="{$product['pro_name']}"></a></div>
          </div>
          <div class="left product_info">
            <div class="pro_info_box">
              <ul>
              	<if condition="$product['pro_description']"><li class="pro_info_boxdesc">{:subtxt($product['pro_description'],80)}</li></if>
                <li style="background:url({:getindeximgurl($data1[2])}) left no-repeat; padding-left:44px;height: 32px; line-height:34px;font-size: 18px;color: #4c4c4c"><a href="mailto:{:chaifen($about['email'],0)}" onFocus="blur()" onClick="turn_sta(3,5);gtag_report_conversion_email();" style="font-size:17px; color:#333333;float: left;"><span style="font-size: 18px;color: #4c4c4c">E-mail: </span>{:chaifen($about['email'],0)}</a></li>
                  <if condition="$data1[32] eq ''">


                <li style="background:url({:getindeximgurl($data1[3])}) left no-repeat; padding-left:44px; line-height:41px;"><span style="float:left;font-size: 18px;color: #4c4c4c">Follow us:</span><div style="float:left; margin-left:5px; margin-top:12px;"><!--[if gt IE 8]>
      <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <div class="addthis_sharing_toolbox"></div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-573a7b508824f77c"></script>
  <![endif]--></div><div class="clear"></div></li>
                  </if>
                <li style="padding-top:15px;" id="inqury_button"><a onClick="javascript:jumpto();" style="width:120px; display:block; font-size:18px; text-align:center; line-height:40px; cursor:pointer; height:40px; background:#{$color}; color:#FFFFFF;">Inquiry Now</a></li>
              </ul>
            </div>
            <ul class="pic_list smallImgList">
                <div class="mod18"><span id="prev" class="btn prev"></span> <span id="next" class="btn next"></span>
                  <div id="listBox" class="listBox">
                    <ul class="cf">
                       <li class="hover"><a href="{:getmainimgurl($product['main_img'])}" title="{$product['pro_name']}"><img src="{:getmainimgurl($product['main_img'])}"  <if condition="$pro['proalt'] neq ''">alt="{$product['proalt']}"<else/>alt="{$product['pro_name']}"</if> class="jqzoom"></a></li>
                      <volist name="proimg" id="proimg">
                        <if condition="getfimgurl($proimg['field_auxiliary_fid']) neq '/Public/img/nopic.gif'">
                          <li><a href="{:getfimgurl($proimg['field_auxiliary_fid'])}" ><img src="{:getfimgurl($proimg['field_auxiliary_fid'])}" class="jqzoom" <if condition="$pro['proalt'] neq ''">alt="{$product['proalt']}"<else/>alt="{$product['pro_name']}"</if>/></a></li>
                        </if>
                      </volist>
                    </ul>
                  </div>
                </div>
                <script type="text/javascript">
        (function(){
            
            function G(s){
                return document.getElementById(s);
            }
            
            function getStyle(obj, attr){
                if(obj.currentStyle){
                    return obj.currentStyle[attr];
                }else{
                    return getComputedStyle(obj, false)[attr];
                }
            }
            
            function Animate(obj, json){
                if(obj.timer){
                    clearInterval(obj.timer);
                }
                obj.timer = setInterval(function(){
                    for(var attr in json){
                        var iCur = parseInt(getStyle(obj, attr));
                        iCur = iCur ? iCur : 0;
                        var iSpeed = (json[attr] - iCur) / 5;
                        iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);
                        obj.style[attr] = iCur + iSpeed + 'px';
                        if(iCur == json[attr]){
                            clearInterval(obj.timer);
                        }
                    }
                }, 30);
            }
            var oList = G("listBox");
            var oPrev = G("prev");
            var oNext = G("next");
        
            var oListLi = oList.getElementsByTagName("li");
            var len2 = oListLi.length;
            
            var oListUl = oList.getElementsByTagName("ul")[0];
            var w2 = oListLi[0].offsetWidth;
        
            oListUl.style.width = w2 * len2 + "px";
        
            var index = 0;
            
            var num = 2;
            var num2 = Math.ceil(num / 2);
        
            function Change(){
                if(index < num2){
                    Animate(oListUl, {left: 0});
                }else if(index + num2 <= len2){
                    Animate(oListUl, {left: - (index - num2 + 1) * w2});
                }else{
                    Animate(oListUl, {left: - (len2 - num) * w2});
                }
        
                for (var i = 0; i < len2; i++) {
                    oListLi[i].className = "";
                    if(i == index){
                        oListLi[i].className = "on";
                    }
                }
            }
            
            oNext.onclick = function(){
                index ++;
                index = index == len2 ? 0 : index;
                Change();
            }
        
            oPrev.onclick = function(){
                index --;
                index = index == -1 ? len2 -1 : index;
                Change();
            }
        
            for (var i = 0; i < len2; i++) {
                oListLi[i].index = i;
                oListLi[i].onclick = function(){
                    index = this.index;
                    Change();
                }
            }
            
        })()
        function jumpto() {
            $('html,body').animate({scrollTop: $('#inquiry').offset().top}, 1000);
            return false;
        };
          function show(i)
    { 
      switch(i)
      {
      case 1:
       document.getElementById("gx1").style.display="block";
       document.getElementById("gx2").style.display="none"; 
       document.getElementById("pro1").className="d_1";
       document.getElementById("pro2").className="d_2";
      break;
    
      case 2:
       document.getElementById("gx1").style.display="none";
       document.getElementById("gx2").style.display="block";  
       document.getElementById("pro1").className="d_2";
       document.getElementById("pro2").className="d_1";
      break;
      
      }
    }

        </script>
              </ul>
          </div>
        </notdefined>
          <div class="clear" style="height:28px;"></div>


        <div class="page_RightTitle2">Product Details</div>
        <if condition="$editor_count eq 1">
            <div class="pro_detail" id="gx1" style="display:block;">{:str_replace('&nbsp;',' ',htmlspecialchars_decode($product['pro_profile']))}</div>
            <else/>
            <style>
                .tabsTitle {
                    display: inline-block;
                    line-height: 36px;
                    height: 36px;
                    vertical-align: top;
                    font-family: "Hiragino Sans GB", "Microsoft YaHei", 黑体, sans-serif;
                    color: rgb(51, 51, 51);
                    cursor: pointer;
                    margin-left: -8px;
                    font-size: 14px;
                    padding: 0px 15px;
                    border-right: 1px solid rgb(221, 221, 221);

                }
                .mainDetail-tabs {
                    height: 36px;
                    background-color: #eeeeee;
                    border: 1px solid #ddd;
                    position: relative;
                    height: 100%;
                    padding-left: 8px;
                    margin-top:5px;
                }
                .tabsTitle.active {
                    height: 36px;
                    border-top: 2px solid #{$color};
                    color: #{$color};
                    font-weight: bold;
                    background-color: #fff;
                }

            </style>
            <ul class="mainDetail-tabs">
                <for start="1" end="$editor_count+1">
                    <li index="{$i}" class="tabsTitle  <if condition="$i eq 1"> active </if>">{$data9[$i+7]}</li>
        </for>
        </ul>


        <for start="1" end="$editor_count+1">
            <php>
                if($i==1){
                $edit_name="pro_profile";
                }else{
                $edit_name="pro_profile".$i;
                }
            </php>

            <div index="{$i}" class="pro_detail"  <if condition="$i neq 1"> style="display:none" </if>  >{:str_replace('&nbsp;',' ',htmlspecialchars_decode($producteditors[$edit_name]))}</div>
    </for>

    <script>
        $(".tabsTitle").on('click',function(){
            $(".tabsTitle").removeClass("active");
            $(this).addClass("active");
            var index=$(this).attr("index");
            $(".pro_detail").hide();
            $(".pro_detail").eq(index-1).show();
        })

    </script>
    </if>


        <script>

            $("#gx1 img").click(function(){
                var mp4=$(this).parent().attr("href");
                if(mp4){
                    if(mp4.indexOf(".mp4")>0){
                        openvideo(mp4);
                        return false;
                    }
                }
            })




            function openvideo(url){
//iframe��
                layer.open({
                    type: 2,
                    title: 'Video',
                    shadeClose: true,
                    shade: 0.8,
                    area: ['800px', '600px'],
                    maxmin: true,
                    content: url //iframe��url
                });
            }
        </script>




          <div class="clear" style="clear:both; height:0;"></div>
          <div class="bt" style="margin-top:22px;"><a href="javascript:history.go(-1)" onfocus="blur()" style="display:block; font-size:14px; text-align:center; line-height:35px; color:#fff;">Back</a></div>
    </div>
    <div class="clear"></div>







    <div class="page_RightTitle2" id="inquiry" style="margin-top:50px;">Inquiry Now</div>
    <div class="proinquiry"> <Include file="./Tpl/demo2/submitinquiry.html" /></div>
    <div style="clear:both;"></div>
    <if condition="$otherpro neq ''">
    <div class="page_RightTitle">Other Products</div>
    <div class="page_RightMain" style="padding-bottom:0;">
       <volist empty="" name="otherpro" id="otherpro" offset="0" length="3">
           <defined name="PRODIMGFLAG">


               <script>
                   function changeprod(type,pid){
                       //console.log(type)
                       if(type==1){
                           $("#cpordlist2_"+pid).show();
                           $("#cpordlist1_"+pid).hide();
                       }
                       else{
                           $("#cpordlist1_"+pid).show();
                           $("#cpordlist2_"+pid).hide();
                       }
                   }
               </script>

               <div class="asd2" style="border:0;border-radius:2px;box-shadow: 0 0 20px #ccc;"  onmouseover="changeprod(1,{$otherpro['pid']})" onmouseout="changeprod(2,{$otherpro['pid']})">


                   <div style="border-radius:2px;border:0;background:#f2f2f2;position:relative;height:221px;" id="cpordlist1_{$otherpro['pid']}">
                       <div class="" style="width:80%;margin:0 auto;padding:30px 0 0 0;">
                           <a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}" style="color:#333;font-size:16px;">{$otherpro['pro_name']}</a>
                       </div>
                       <div class="" style="width:80%;margin:0 auto;padding:10px 0 0 0;">
                           <a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}"style="color:#666;font-size:14px;">{$otherpro['pro_description']}</a>
                       </div>
                       <a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}" style="position:absolute;display:inline-block;bottom:0;height:45px;z-index:10000;width:100%;">
                           <div class="" style="width:80%;height:1px;border-bottom:1px solid #e0e0e0;margin:0 auto;"></div>
                           <div style="width:80%;margin:0 auto;padding-top:14px;"><img src="__TMPL__demo3/img/hui.png" ></div>
                       </a>
                   </div>


                   <div style="border-radius:2px;border:0;background:#{$color};position:relative;height:221px;display:none;" id="cpordlist2_{$otherpro['pid']}">
                       <div class="" style="width:80%;margin:0 auto;padding:30px 0 0 0;">
                           <a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}" style="color:#fff;font-size:16px;">{$otherpro['pro_name']}</a>
                       </div>
                       <div class="" style="width:80%;margin:0 auto;padding:10px 0 0 0;">
                           <a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}"style="color:#dddddd;font-size:14px;">{$otherpro['pro_description']}</a>
                       </div>
                       <a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}" style="position:absolute;display:inline-block;bottom:0;height:45px;z-index:10000;width:100%;">
                           <div class="" style="width:80%;height:1px;border-bottom:1px solid #e0e0e0;margin:0 auto;"></div>
                           <div style="width:80%;margin:0 auto;padding-top:14px;"><img src="__TMPL__demo3/img/lan.png" ></div>
                       </a>
                   </div>


               </div>



               <else />

               <div class="asd2" >
                   <div class="img2" ><a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}"><img src="{:getmainimgurl($otherpro['main_img'])}" <if condition="$otherpro['proalt'] neq ''">alt="{$otherpro['proalt']}"<else/>alt="{$otherpro['pro_name']}"</if> /></a>
                   </div>

                   <div class="in_proname2">
                       <a href="{:U('/Product','','')}/{:getproname($otherpro['pid'])}">{$otherpro['pro_name']}</a>
                   </div>

               </div>

           </defined>
               <if condition="($key+1)%3 eq 0">
                 <div style="clear:both; width: 100%; height:26px;"></div>
               <else/>
                 <div style="width:32px; height:10px; background:none; float:left;"></div>
               </if>  
            </volist> 
    </div>
    <div style="clear:both;"></div>
    </if>
    <if condition="$newpro neq ''">
    <div class="page_RightTitle">New Products</div>
    <div class="page_RightMain" style="padding-bottom:0;">
     <volist empty="" name="newpro" id="newpro" offset="0" length="3">
         <defined name="PRODIMGFLAG">


             <script>
                 function changeprod(type,pid){
                     //console.log(type)
                     if(type==1){
                         $("#cpordlist2_"+pid).show();
                         $("#cpordlist1_"+pid).hide();
                     }
                     else{
                         $("#cpordlist1_"+pid).show();
                         $("#cpordlist2_"+pid).hide();
                     }
                 }
             </script>

             <div class="asd2" style="border:0;border-radius:2px;box-shadow: 0 0 20px #ccc;"  onmouseover="changeprod(1,{$newpro['pid']})" onmouseout="changeprod(2,{$newpro['pid']})">


                 <div style="border-radius:2px;border:0;background:#f2f2f2;position:relative;height:221px;" id="cpordlist1_{$newpro['pid']}">
                     <div class="" style="width:80%;margin:0 auto;padding:30px 0 0 0;">
                         <a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}" style="color:#333;font-size:16px;">{$newpro['pro_name']}</a>
                     </div>
                     <div class="" style="width:80%;margin:0 auto;padding:10px 0 0 0;">
                         <a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}"style="color:#666;font-size:14px;">{$newpro['pro_description']}</a>
                     </div>
                     <a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}" style="position:absolute;display:inline-block;bottom:0;height:45px;z-index:10000;width:100%;">
                         <div class="" style="width:80%;height:1px;border-bottom:1px solid #e0e0e0;margin:0 auto;"></div>
                         <div style="width:80%;margin:0 auto;padding-top:14px;"><img src="__TMPL__demo3/img/hui.png" ></div>
                     </a>
                 </div>


                 <div style="border-radius:2px;border:0;background:#{$color};position:relative;height:221px;display:none;" id="cpordlist2_{$newpro['pid']}">
                     <div class="" style="width:80%;margin:0 auto;padding:30px 0 0 0;">
                         <a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}" style="color:#fff;font-size:16px;">{$newpro['pro_name']}</a>
                     </div>
                     <div class="" style="width:80%;margin:0 auto;padding:10px 0 0 0;">
                         <a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}"style="color:#dddddd;font-size:14px;">{$newpro['pro_description']}</a>
                     </div>
                     <a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}" style="position:absolute;display:inline-block;bottom:0;height:45px;z-index:10000;width:100%;">
                         <div class="" style="width:80%;height:1px;border-bottom:1px solid #e0e0e0;margin:0 auto;"></div>
                         <div style="width:80%;margin:0 auto;padding-top:14px;"><img src="__TMPL__demo3/img/lan.png" ></div>
                     </a>
                 </div>


             </div>



             <else />

             <div class="asd2" >
                 <div class="img2" ><a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}"><img src="{:getmainimgurl($newpro['main_img'])}" <if condition="$newpro['proalt'] neq ''">alt="{$newpro['proalt']}"<else/>alt="{$newpro['pro_name']}"</if> /></a>
                 </div>

                 <div class="in_proname2">
                     <a href="{:U('/Product','','')}/{:getproname($newpro['pid'])}">{$newpro['pro_name']}</a>
                 </div>

             </div>

         </defined>
               <if condition="($key+1)%3 eq 0">
                 <div style="clear:both; width: 100%; height:26px;"></div>
               <else/>
                 <div style="width:32px; height:10px; background:none; float:left;"></div>
               </if>  
            </volist> 
    </div>
    </if>
    <div style="clear:both"></div>
                <if condition="comment_show() eq 1">
                    <include file="demo2:comment" />
                </if>
                <include file="demo2:relationinfo" />
                <include file="demo2:relationnew" />
     <div style="clear:both; height:30px;"></div>
</div>
</div>

</block>